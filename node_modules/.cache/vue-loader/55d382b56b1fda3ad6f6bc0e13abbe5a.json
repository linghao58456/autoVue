{"remainingRequest":"D:\\project\\automationPlatformVue\\autoplatform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\automationPlatformVue\\autoplatform\\src\\views\\system\\systemList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\automationPlatformVue\\autoplatform\\src\\views\\system\\systemList.vue","mtime":1606283358972},{"path":"D:\\project\\automationPlatformVue\\autoplatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\automationPlatformVue\\autoplatform\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\project\\automationPlatformVue\\autoplatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\automationPlatformVue\\autoplatform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpjb25zdCBjb2x1bW4gPSBbDQogIHtkYXRhSW5kZXg6ICJpZCIsIGt5ZTogImlkIiwgdGl0bGU6ICJJZCJ9LA0KICB7ZGF0YUluZGV4OiAic3lzdGVtX25hbWUiLCBreWU6ICJzeXN0ZW1fbmFtZSIsIHRpdGxlOiAi57O757uf5ZCN56ewIn0sDQogIHtkYXRhSW5kZXg6ICJzeXN0ZW1fcGF0aCIsIGt5ZTogInN5c3RlbV9wYXRoIiwgdGl0bGU6ICLns7vnu5/lnLDlnYAifSwNCiAge2RhdGFJbmRleDogInVzZXIiLCBreWU6ICJ1c2VyIiwgdGl0bGU6ICLliJvlu7rogIUifSwNCiAge2RhdGFJbmRleDogImNyZWF0ZVRpbWUiLCBreWU6ICJjcmVhdGVUaW1lIiwgdGl0bGU6ICLliJvlu7rml7bpl7QifSwNCiAge2RhdGFJbmRleDogIm1vZGlmeVRpbWUiLCBreWU6ICJtb2RpZnlUaW1lIiwgdGl0bGU6ICLkv67mlLnml7bpl7QifSwNCiAgew0KICAgIGtleTogImFjdGlvbiIsIHRpdGxlOiAi5pON5L2cIiwgc2NvcGVkU2xvdHM6IHtjdXN0b21SZW5kZXI6ICdhY3Rpb24nfQ0KICB9DQpdDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogImxpc3QiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBzZWFyY2hGb3JtOiB0aGlzLiRmb3JtLmNyZWF0ZUZvcm0odGhpcywge25hbWU6ICJzZWFyY2hfZm9ybSJ9KSwNCiAgICAgIHN5c3RlbV9saXN0OiBbXSwgY29sdW1uLA0KICAgICAgY3VycmVudFBhZ2U6IDEsIHBhZ2VTaXplOiAxMCwgdG90YWw6IDEwDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0TGlzdCgpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDmn6Xor6INCiAgICBzZWFyY2goZSkgew0KICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpDQogICAgICB0aGlzLnNlYXJjaEZvcm0udmFsaWRhdGVGaWVsZHMoKGVyciwgdmFsdWVzKSA9PiB7DQogICAgICAgIGlmICghZXJyKSB7DQogICAgICAgICAgbGV0IHN5c3RlbV9uYW1lDQogICAgICAgICAgdGhpcy5zeXN0ZW1fbGlzdCA9IFtdDQogICAgICAgICAgdmFsdWVzWydzeXN0ZW1fbmFtZSddID09PSAidW5kZWZpbmVkIiA/IHN5c3RlbV9uYW1lID0gIiIgOiBzeXN0ZW1fbmFtZSA9IHZhbHVlc1snc3lzdGVtX25hbWUnXQ0KICAgICAgICAgIHRoaXMuR2V0KCIvc3lzdGVtL2xpc3QiLCB7DQogICAgICAgICAgICAic3lzdGVtTmFtZSI6IHN5c3RlbV9uYW1lLCAiY3VycmVudFBhZ2UiOiB0aGlzLmN1cnJlbnRQYWdlLCAicGFnZVNpemUiOiB0aGlzLnBhZ2VTaXplDQogICAgICAgICAgfSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgaWYgKHJlc1snY29kZSddID09PSAxMDAwKSB7DQogICAgICAgICAgICAgIHJlc1snZGF0YSddLm1hcCgoaXRlbSkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuc3lzdGVtX2xpc3QucHVzaCh7DQogICAgICAgICAgICAgICAgICBpZDogaXRlbVsnaWQnXSwgInN5c3RlbV9uYW1lIjogaXRlbVsnc3lzdGVtX25hbWUnXSwgInN5c3RlbV9wYXRoIjogaXRlbVsnc3lzdGVtX3BhdGgnXSwNCiAgICAgICAgICAgICAgICAgICJ1c2VyIjogaXRlbVsnY3JlYXRvcklkJ10sICJjcmVhdGVUaW1lIjogaXRlbVsnY3JlYXRlX3RpbWUnXSwNCiAgICAgICAgICAgICAgICAgICJtb2RpZnlUaW1lIjogaXRlbVsnbW9kaWZ5X3RpbWUnXQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc1snbWVzc2FnZSddKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyDojrflj5bliJfooagNCiAgICBnZXRMaXN0KCkgew0KICAgICAgdGhpcy5zeXN0ZW1fbGlzdCA9IFtdDQogICAgICB0aGlzLkdldCgiL3N5c3RlbS9saXN0IiwgeyJjdXJyZW50UGFnZSI6IHRoaXMuY3VycmVudFBhZ2UsICJwYWdlU2l6ZSI6IHRoaXMucGFnZVNpemV9KS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXNbJ2NvZGUnXSA9PT0gMTAwMCkgew0KICAgICAgICAgIHRoaXMudG90YWwgPSByZXNbJ3RvdGFsJ10NCiAgICAgICAgICByZXNbJ2RhdGEnXS5tYXAoKGl0ZW0pID0+IHsNCiAgICAgICAgICAgIHRoaXMuc3lzdGVtX2xpc3QucHVzaCh7DQogICAgICAgICAgICAgIGlkOiBpdGVtWydpZCddLCAic3lzdGVtX25hbWUiOiBpdGVtWydzeXN0ZW1fbmFtZSddLCAic3lzdGVtX3BhdGgiOiBpdGVtWydzeXN0ZW1fcGF0aCddLA0KICAgICAgICAgICAgICAidXNlciI6IGl0ZW1bJ2NyZWF0b3JJZCddLCAiY3JlYXRlVGltZSI6IGl0ZW1bJ2NyZWF0ZV90aW1lJ10sDQogICAgICAgICAgICAgICJtb2RpZnlUaW1lIjogaXRlbVsnbW9kaWZ5X3RpbWUnXQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzWydtZXNzYWdlJ10pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyDmt7vliqANCiAgICBhZGQoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogInN5c3RlbUFkZCJ9KQ0KICAgIH0sDQogICAgLy8g6YeN572u5riF56m6DQogICAgcmVzZXQoKSB7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ucmVzZXRGaWVsZHMoKQ0KICAgIH0sDQogICAgLy8g57yW6L6RDQogICAgZWRpdChuYW1lLCB2YWx1ZSkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICJzeXN0ZW1FZGl0IiwgcXVlcnk6IHsibmFtZSI6IG5hbWV9LCBwYXJhbXM6IHsidmFsdWUiOiB2YWx1ZX19KQ0KICAgIH0sDQogICAgLy8g5p+l55yLDQogICAgdmlldyhuYW1lLCB2YWx1ZSkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICJzeXN0ZW1FZGl0IiwgcXVlcnk6IHsibmFtZSI6IG5hbWV9LCBwYXJhbXM6IHsidmFsdWUiOiB2YWx1ZX19KQ0KICAgIH0sDQogICAgLy8g5Yig6ZmkDQogICAgZGVsKG5hbWUsIHZhbHVlKSB7DQogICAgICB0aGlzLlBvc3QoIiIsIHsic3lzdGVtTmFtZSI6IG5hbWUsICJzdGF0dXMiOiB2YWx1ZX0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgcmVzWydjb2RlJ10gPT09IDEwMDAgPyB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzWydtZXNzYWdlJ10sIDEsICgpID0+IHsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpDQogICAgICAgIH0pIDogdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNbJ21lc3NhZ2UnXSkNCiAgICAgIH0pDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["systemList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"systemList.vue","sourceRoot":"src/views/system","sourcesContent":["*@Author: hao.ling\r\n*@Date: 2020/11/20 10:26\r\n*@Annotation: 系统配置列表\r\n\r\n<template>\r\n  <div id=\"system_list\">\r\n    <a-layout id=\"layout\">\r\n      <a-layout-header id=\"header\">\r\n        <a-form :form=\"searchForm\" layout=\"inline\" @submit=\"search\">\r\n          <a-form-item label=\"系统名称\">\r\n            <a-input class=\"input\" size=\"small\" v-decorator=\"['system_name',{rules:[{}]}]\"/>\r\n          </a-form-item>\r\n          <my-icon type=\"icon-add\" id=\"add_btn\" class=\"btn\" @click=\"add\"/>\r\n          <my-icon type=\"icon-zhongzhi\" id=\"reset_btn\" class=\"btn\" @click=\"reset\"/>\r\n          <my-icon type=\"icon-search\" id=\"search_btn\" class=\"btn\" @click=\"search\"/>\r\n        </a-form>\r\n      </a-layout-header>\r\n      <a-layout-content>\r\n        <a-table :data-source=\"system_list\" :columns=\"column\" bordered :pagination=\"false\">\r\n          <span slot=\"action\" slot-scope=\"text,record\">\r\n            <my-icon type=\"icon-edit\" class=\"icon\" style=\"color: green\" @click=\"edit(record.system_name,false)\"/>\r\n            <a-divider type=\"vertical\"/>\r\n            <my-icon type=\"icon-view\" class=\"icon\" style=\"color: deeppink\" @click=\"view(record.system_name,true)\"/>\r\n            <a-divider type=\"vertical\"/>\r\n            <a-popconfirm title=\"是否删除\" ok-text=\"确认\" cancel-text=\"取消\" @confirm=\"\">\r\n              <my-icon type=\"icon-delete1\" class=\"icon\" style=\"color: red\"/>\r\n            </a-popconfirm>\r\n          </span>\r\n        </a-table>\r\n        <a-pagination id=\"page\" :default-current=\"6\" size=\"small\" :total=\"total\" :pageSize=\"pageSize\"\r\n                      :show-total=\"() => `共${total}条`\"/>\r\n      </a-layout-content>\r\n    </a-layout>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst column = [\r\n  {dataIndex: \"id\", kye: \"id\", title: \"Id\"},\r\n  {dataIndex: \"system_name\", kye: \"system_name\", title: \"系统名称\"},\r\n  {dataIndex: \"system_path\", kye: \"system_path\", title: \"系统地址\"},\r\n  {dataIndex: \"user\", kye: \"user\", title: \"创建者\"},\r\n  {dataIndex: \"createTime\", kye: \"createTime\", title: \"创建时间\"},\r\n  {dataIndex: \"modifyTime\", kye: \"modifyTime\", title: \"修改时间\"},\r\n  {\r\n    key: \"action\", title: \"操作\", scopedSlots: {customRender: 'action'}\r\n  }\r\n]\r\n\r\nexport default {\r\n  name: \"list\",\r\n  data() {\r\n    return {\r\n      searchForm: this.$form.createForm(this, {name: \"search_form\"}),\r\n      system_list: [], column,\r\n      currentPage: 1, pageSize: 10, total: 10\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    // 查询\r\n    search(e) {\r\n      e.preventDefault()\r\n      this.searchForm.validateFields((err, values) => {\r\n        if (!err) {\r\n          let system_name\r\n          this.system_list = []\r\n          values['system_name'] === \"undefined\" ? system_name = \"\" : system_name = values['system_name']\r\n          this.Get(\"/system/list\", {\r\n            \"systemName\": system_name, \"currentPage\": this.currentPage, \"pageSize\": this.pageSize\r\n          }).then(res => {\r\n            if (res['code'] === 1000) {\r\n              res['data'].map((item) => {\r\n                this.system_list.push({\r\n                  id: item['id'], \"system_name\": item['system_name'], \"system_path\": item['system_path'],\r\n                  \"user\": item['creatorId'], \"createTime\": item['create_time'],\r\n                  \"modifyTime\": item['modify_time']\r\n                })\r\n              })\r\n            } else {\r\n              this.$message.error(res['message'])\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 获取列表\r\n    getList() {\r\n      this.system_list = []\r\n      this.Get(\"/system/list\", {\"currentPage\": this.currentPage, \"pageSize\": this.pageSize}).then(res => {\r\n        if (res['code'] === 1000) {\r\n          this.total = res['total']\r\n          res['data'].map((item) => {\r\n            this.system_list.push({\r\n              id: item['id'], \"system_name\": item['system_name'], \"system_path\": item['system_path'],\r\n              \"user\": item['creatorId'], \"createTime\": item['create_time'],\r\n              \"modifyTime\": item['modify_time']\r\n            })\r\n          })\r\n        } else {\r\n          this.$message.error(res['message'])\r\n        }\r\n      })\r\n    },\r\n    // 添加\r\n    add() {\r\n      this.$router.push({name: \"systemAdd\"})\r\n    },\r\n    // 重置清空\r\n    reset() {\r\n      this.searchForm.resetFields()\r\n    },\r\n    // 编辑\r\n    edit(name, value) {\r\n      this.$router.push({name: \"systemEdit\", query: {\"name\": name}, params: {\"value\": value}})\r\n    },\r\n    // 查看\r\n    view(name, value) {\r\n      this.$router.push({name: \"systemEdit\", query: {\"name\": name}, params: {\"value\": value}})\r\n    },\r\n    // 删除\r\n    del(name, value) {\r\n      this.Post(\"\", {\"systemName\": name, \"status\": value}).then(res => {\r\n        res['code'] === 1000 ? this.$message.success(res['message'], 1, () => {\r\n          this.$router.go(-1)\r\n        }) : this.$message.error(res['message'])\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#system_list {\r\n  height: 110%;\r\n  width: 115%;\r\n}\r\n\r\n#layout {\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: #fff;\r\n}\r\n\r\n#header {\r\n  height: 12%;\r\n  margin-left: -40px;\r\n  margin-top: 10px;\r\n  background-color: #fff;\r\n}\r\n\r\n.input {\r\n  width: 120px;\r\n}\r\n\r\n.btn {\r\n  font-size: 20px;\r\n  margin-top: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n#add_btn {\r\n  color: green;\r\n}\r\n\r\n#reset_btn {\r\n  color: blue;\r\n  margin-left: 10px;\r\n}\r\n\r\n#search_btn {\r\n  color: red;\r\n  margin-left: 10px;\r\n}\r\n\r\n.icon {\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n}\r\n\r\n#page {\r\n  float: right;\r\n  margin-right: 20px;\r\n  margin-top: 10px;\r\n}\r\n</style>"]}]}
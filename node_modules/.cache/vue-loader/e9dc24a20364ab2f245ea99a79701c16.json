{"remainingRequest":"D:\\project\\automationPlatformVue\\autoplatform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\automationPlatformVue\\autoplatform\\src\\views\\index\\verificationCode.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\automationPlatformVue\\autoplatform\\src\\views\\index\\verificationCode.vue","mtime":1605769226816},{"path":"D:\\project\\automationPlatformVue\\autoplatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\automationPlatformVue\\autoplatform\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\project\\automationPlatformVue\\autoplatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\automationPlatformVue\\autoplatform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJ2ZXJpZmljYXRpb25Db2RlIiwNCiAgcHJvcHM6IHsNCiAgICAvLyDpqozor4HnoIENCiAgICBpZGVudGlmeUNvZGU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICIxMjM0Ig0KICAgIH0sDQogICAgLy8g5a2X5L2T5pyA5bCP5YC8DQogICAgZm9udFNpemVNaW46IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDM1DQogICAgfSwNCiAgICAvLyDlrZfkvZPmnIDlpKflgLwNCiAgICBmb250U2l6ZU1heDogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMzUNCiAgICB9LA0KICAgIC8vIOiDjOaZr+iJsuacgOWwj+WAvA0KICAgIGJhY2tncm91bmRDb2xvck1pbjogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMTgwDQogICAgfSwNCiAgICAvLyDog4zmma/oibLmnIDlpKflgLwNCiAgICBiYWNrZ3JvdW5kQ29sb3JNYXg6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDI0MA0KICAgIH0sDQogICAgLy8g6aKc6Imy5pyA5bCP5YC8DQogICAgY29sb3JNaW46IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDUwDQogICAgfSwNCiAgICAvLyDpopzoibLmnIDlpKflgLwNCiAgICBjb2xvck1heDogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMTYwDQogICAgfSwNCiAgICAvLyDooYzpopzoibLmnIDlsI/lgLwNCiAgICBsaW5lQ29sb3JNaW46IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDEwMA0KICAgIH0sDQogICAgLy8g6KGM6aKc6Imy5pyA5aSn5YC8DQogICAgbGluZUNvbG9yTWF4OiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAyMDANCiAgICB9LA0KICAgIC8vIOeCueminOiJsuacgOWwj+WAvA0KICAgIGRvdENvbG9yTWluOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAwDQogICAgfSwNCiAgICAvLyDngrnpopzoibLmnIDlpKflgLwNCiAgICBkb3RDb2xvck1heDogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMjU1DQogICAgfSwNCiAgICAvLyDlrr3luqYNCiAgICBjb250ZW50V2lkdGg6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDEyMA0KICAgIH0sDQogICAgLy8g6auY5bqmDQogICAgY29udGVudEhlaWdodDogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogNDANCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDnlJ/miJDpmo/mnLrmlbANCiAgICByYW5kb21OdW0obWluLCBtYXgpIHsNCiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbikNCiAgICB9LA0KICAgIC8vIOeUn+aIkOmaj+acuuminOiJsg0KICAgIHJhbmRvbUNvbG9yKG1pbiwgbWFYKSB7DQogICAgICBsZXQgciA9IHRoaXMucmFuZG9tTnVtKG1pbiwgbWFYKQ0KICAgICAgbGV0IGcgPSB0aGlzLnJhbmRvbU51bShtaW4sIG1hWCkNCiAgICAgIGxldCBiID0gdGhpcy5yYW5kb21OdW0obWluLCBtYVgpDQogICAgICByZXR1cm4gInJnYigiICsgciArICIsIiArIGcgKyAiLCIgKyBiICsgIikiDQogICAgfSwNCiAgICAvLyDpgI/mmI7luqYNCiAgICB0cmFuc3BhcmVudCgpIHsNCiAgICAgIHJldHVybiAicmdiKDI1NSwyNTUsMjU1KSINCiAgICB9LA0KICAgIC8vIOe7mOWItuWbvueJhw0KICAgIGRyYXdQaWMoKSB7DQogICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInMtY2FudmFzIikNCiAgICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKQ0KICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICJib3R0b20iDQogICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy50cmFuc3BhcmVudCgpDQogICAgICBjdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5jb250ZW50V2lkdGgsIHRoaXMuY29udGVudEhlaWdodCkNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pZGVudGlmeUNvZGUubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgdGhpcy5kcmF3VGV4dChjdHgsIHRoaXMuaWRlbnRpZnlDb2RlW2ldLCBpKQ0KICAgICAgfQ0KICAgICAgdGhpcy5kcmF3TGluZShjdHgpDQogICAgICB0aGlzLmRyYXdEb3QoY3R4KQ0KICAgIH0sDQogICAgLy8g57uY5Yi25paH5a2XDQogICAgZHJhd1RleHQoY3R4LCB0eHQsIGkpIHsNCiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnJhbmRvbUNvbG9yKHRoaXMuY29sb3JNaW4sIHRoaXMuY29sb3JNYXgpDQogICAgICBjdHguZm9udCA9IHRoaXMucmFuZG9tTnVtKHRoaXMuZm9udFNpemVNaW4sIHRoaXMuZm9udFNpemVNYXgpICsgInB4IFNpbUhlaSINCiAgICAgIGxldCB4ID0gKGkgKyAxKSAqICh0aGlzLmNvbnRlbnRXaWR0aCAvICh0aGlzLmlkZW50aWZ5Q29kZS5sZW5ndGggKyAxKSkNCiAgICAgIGxldCB5ID0gdGhpcy5yYW5kb21OdW0odGhpcy5mb250U2l6ZU1heCwgdGhpcy5jb250ZW50SGVpZ2h0IC0gNSkNCiAgICAgIGNvbnN0IGRlZyA9IHRoaXMucmFuZG9tTnVtKC0xMCwgMTApDQogICAgICBjdHgudHJhbnNsYXRlKHgsIHkpDQogICAgICBjdHgucm90YXRlKChkZWcgKiBNYXRoLlBJKSAvIDE4MCkNCiAgICAgIGN0eC5maWxsVGV4dCh0eHQsIDAsIDApDQogICAgICBjdHgucm90YXRlKCgtZGVnICogTWF0aC5QSSkgLyAxODApDQogICAgICBjdHgudHJhbnNsYXRlKC14LCAteSkNCiAgICB9LA0KICAgIC8vIOe7mOWItuihjA0KICAgIGRyYXdMaW5lKGN0eCkgew0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHsNCiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucmFuZG9tQ29sb3IodGhpcy5saW5lQ29sb3JNaW4sIHRoaXMubGluZUNvbG9yTWF4KQ0KICAgICAgICBjdHguYmVnaW5QYXRoKCkNCiAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLnJhbmRvbU51bSgwLCB0aGlzLmNvbnRlbnRXaWR0aCksIHRoaXMucmFuZG9tTnVtKDAsIHRoaXMuY29udGVudEhlaWdodCkpDQogICAgICAgIGN0eC5saW5lVG8odGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50V2lkdGgpLCB0aGlzLnJhbmRvbU51bSgwLCB0aGlzLmNvbnRlbnRIZWlnaHQpKQ0KICAgICAgICBjdHguc3Ryb2tlKCkNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOe7mOWItueCuQ0KICAgIGRyYXdEb3QoY3R4KSB7DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7DQogICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnJhbmRvbUNvbG9yKDAsIDI1NSkNCiAgICAgICAgY3R4LmJlZ2luUGF0aCgpDQogICAgICAgIGN0eC5hcmModGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50V2lkdGgpLCB0aGlzLnJhbmRvbU51bSgwLCB0aGlzLmNvbnRlbnRIZWlnaHQpLCAxLCAwLCAyICogTWF0aC5QSSkNCiAgICAgICAgY3R4LmZpbGwoKQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBpZGVudGlmeUNvZGUoKSB7DQogICAgICB0aGlzLmRyYXdQaWMoKQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmRyYXdQaWMoKQ0KICB9DQp9DQo="},{"version":3,"sources":["verificationCode.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"verificationCode.vue","sourceRoot":"src/views/index","sourcesContent":["*@Author: hao.ling\r\n*@Date: 2020/11/19 14:59\r\n*@Annotation: 验证码\r\n\r\n<template>\r\n  <div class=\"s-canvas\">\r\n    <canvas id=\"s-canvas\" :width=\"contentWidth\" :height=\"contentHeight\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"verificationCode\",\r\n  props: {\r\n    // 验证码\r\n    identifyCode: {\r\n      type: String,\r\n      default: \"1234\"\r\n    },\r\n    // 字体最小值\r\n    fontSizeMin: {\r\n      type: Number,\r\n      default: 35\r\n    },\r\n    // 字体最大值\r\n    fontSizeMax: {\r\n      type: Number,\r\n      default: 35\r\n    },\r\n    // 背景色最小值\r\n    backgroundColorMin: {\r\n      type: Number,\r\n      default: 180\r\n    },\r\n    // 背景色最大值\r\n    backgroundColorMax: {\r\n      type: Number,\r\n      default: 240\r\n    },\r\n    // 颜色最小值\r\n    colorMin: {\r\n      type: Number,\r\n      default: 50\r\n    },\r\n    // 颜色最大值\r\n    colorMax: {\r\n      type: Number,\r\n      default: 160\r\n    },\r\n    // 行颜色最小值\r\n    lineColorMin: {\r\n      type: Number,\r\n      default: 100\r\n    },\r\n    // 行颜色最大值\r\n    lineColorMax: {\r\n      type: Number,\r\n      default: 200\r\n    },\r\n    // 点颜色最小值\r\n    dotColorMin: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    // 点颜色最大值\r\n    dotColorMax: {\r\n      type: Number,\r\n      default: 255\r\n    },\r\n    // 宽度\r\n    contentWidth: {\r\n      type: Number,\r\n      default: 120\r\n    },\r\n    // 高度\r\n    contentHeight: {\r\n      type: Number,\r\n      default: 40\r\n    }\r\n  },\r\n  methods: {\r\n    // 生成随机数\r\n    randomNum(min, max) {\r\n      return Math.floor(Math.random() * (max - min) + min)\r\n    },\r\n    // 生成随机颜色\r\n    randomColor(min, maX) {\r\n      let r = this.randomNum(min, maX)\r\n      let g = this.randomNum(min, maX)\r\n      let b = this.randomNum(min, maX)\r\n      return \"rgb(\" + r + \",\" + g + \",\" + b + \")\"\r\n    },\r\n    // 透明度\r\n    transparent() {\r\n      return \"rgb(255,255,255)\"\r\n    },\r\n    // 绘制图片\r\n    drawPic() {\r\n      let canvas = document.getElementById(\"s-canvas\")\r\n      let ctx = canvas.getContext(\"2d\")\r\n      ctx.textBaseline = \"bottom\"\r\n      ctx.fillStyle = this.transparent()\r\n      ctx.fillRect(0, 0, this.contentWidth, this.contentHeight)\r\n      for (let i = 0; i < this.identifyCode.length; i++) {\r\n        this.drawText(ctx, this.identifyCode[i], i)\r\n      }\r\n      this.drawLine(ctx)\r\n      this.drawDot(ctx)\r\n    },\r\n    // 绘制文字\r\n    drawText(ctx, txt, i) {\r\n      ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax)\r\n      ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) + \"px SimHei\"\r\n      let x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1))\r\n      let y = this.randomNum(this.fontSizeMax, this.contentHeight - 5)\r\n      const deg = this.randomNum(-10, 10)\r\n      ctx.translate(x, y)\r\n      ctx.rotate((deg * Math.PI) / 180)\r\n      ctx.fillText(txt, 0, 0)\r\n      ctx.rotate((-deg * Math.PI) / 180)\r\n      ctx.translate(-x, -y)\r\n    },\r\n    // 绘制行\r\n    drawLine(ctx) {\r\n      for (let i = 0; i < 8; i++) {\r\n        ctx.fillStyle = this.randomColor(this.lineColorMin, this.lineColorMax)\r\n        ctx.beginPath()\r\n        ctx.moveTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n        ctx.lineTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n        ctx.stroke()\r\n      }\r\n    },\r\n    // 绘制点\r\n    drawDot(ctx) {\r\n      for (let i = 0; i < 100; i++) {\r\n        ctx.fillStyle = this.randomColor(0, 255)\r\n        ctx.beginPath()\r\n        ctx.arc(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight), 1, 0, 2 * Math.PI)\r\n        ctx.fill()\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    identifyCode() {\r\n      this.drawPic()\r\n    }\r\n  },\r\n  mounted() {\r\n    this.drawPic()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}